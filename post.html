<!DOCTYPE html>
<html lang="ur">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Blog Post - Neuro-Dev</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="blog-post.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">

</head>
<body>
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-logo">
                <i class="fas fa-brain"></i>
                <span>Neuro-Dev</span>
            </div>
            <div class="nav-menu">
                <a href="index.html" class="nav-link">Home</a>
                <a href="blog.html" class="nav-link">‚Üê Back to Blog</a>
            </div>
        </div>
    </nav>

    <div class="post-container">
        <div class="post-content">
            <div class="post-header">
                <h1 class="post-title" id="postTitle">Loading...</h1>
                <div class="post-meta" id="postMeta">
                    <span><i class="fas fa-calendar"></i> <span id="postDate"></span></span>
                    <span><i class="fas fa-clock"></i> <span id="readTime"></span></span>
                    <span><i class="fas fa-eye"></i> <span id="viewCount"></span></span>
                </div>
            </div>

            <div class="post-reactions">
                <button class="reaction-btn" onclick="addReaction('like')">
                    üëç <span id="likeCount">0</span>
                </button>
                <button class="reaction-btn" onclick="addReaction('dislike')">
                    üëé <span id="dislikeCount">0</span>
                </button>
                <button class="reaction-btn" onclick="addReaction('love')">
                    ‚ù§Ô∏è <span id="loveCount">0</span>
                </button>
                <button class="reaction-btn" onclick="addReaction('fire')">
                    üî• <span id="fireCount">0</span>
                </button>
            </div>

            <div id="postContent">
                <p>Post content loading...</p>
            </div>

            <div class="comments-section">
                <div class="comments-header">
                    <h3><i class="fas fa-comments"></i> Comments (<span id="commentCount">0</span>)</h3>
                </div>

                <div class="comment-form">
                    <input type="text" class="name-input" id="commenterName" placeholder="Apna naam likhiye...">
                    <textarea class="comment-input" id="commentText" placeholder="Apna comment likhiye..."></textarea>
                    <button class="submit-comment" onclick="submitComment()">
                        <i class="fas fa-paper-plane"></i> Post Comment
                    </button>
                </div>

                <div class="comments-list" id="commentsList">
                    <!-- Comments will be loaded here -->
                </div>
            </div>
        </div>
    </div>

    <script>
        let currentPostSlug = '';
        let comments = [];

        // Get post slug from URL
        const urlParams = new URLSearchParams(window.location.search);
        currentPostSlug = urlParams.get('slug') || 'default-post';

        // Load post content
        function loadPost() {
            // Simulate post loading
            const posts = {
                'zero-trust-architecture-challenge': {
                    title: 'üîí Zero Trust Kya Hai? Ethical Hackers Ke Liye Sabse Bada Challenge',
                    content: `
                        <h2>Zero Trust Architecture Kya Hai?</h2>
                        <p>Zero Trust ek security model hai jo "never trust, always verify" principle pe based hai. Traditional security models mein hum network perimeter pe trust karte the, lekin Zero Trust mein har user aur device ko verify karna padta hai.</p>
                        
                        <h3>Key Principles:</h3>
                        <ul>
                            <li><strong>Verify Everything:</strong> Har request ko authenticate karo</li>
                            <li><strong>Least Privilege:</strong> Minimum required access do</li>
                            <li><strong>Assume Breach:</strong> Maan lo ke system already compromised hai</li>
                        </ul>
                        
                        <h3>Ethical Hackers Ke Liye Challenge:</h3>
                        <p>Zero Trust implementation ke baad traditional hacking methods kam effective ho jate hain. Lateral movement, privilege escalation, aur persistence maintain karna mushkil ho jata hai.</p>
                    `,
                    date: '2025-10-26',
                    readTime: '8 min read'
                },
                'default-post': {
                    title: 'Sample Blog Post',
                    content: '<p>This is a sample blog post content.</p>',
                    date: '2025-10-26',
                    readTime: '5 min read'
                }
            };

            const post = posts[currentPostSlug] || posts['default-post'];
            
            document.getElementById('postTitle').textContent = post.title;
            document.getElementById('postDate').textContent = post.date;
            document.getElementById('readTime').textContent = post.readTime;
            document.getElementById('postContent').innerHTML = post.content;
            
            // Update view count
            updateViewCount();
            loadReactions();
            loadComments();
        }

        function updateViewCount() {
            const key = `views_${currentPostSlug}`;
            let views = parseInt(localStorage.getItem(key) || '0');
            views++;
            localStorage.setItem(key, views.toString());
            document.getElementById('viewCount').textContent = views;
        }

        function addReaction(type) {
            const key = `reactions_${currentPostSlug}`;
            let reactions = JSON.parse(localStorage.getItem(key) || '{}');
            
            if (!reactions[type]) reactions[type] = 0;
            reactions[type]++;
            
            localStorage.setItem(key, JSON.stringify(reactions));
            document.getElementById(type + 'Count').textContent = reactions[type];
            
            // Visual feedback
            event.target.classList.add('active');
            setTimeout(() => event.target.classList.remove('active'), 300);
        }

        function loadReactions() {
            const key = `reactions_${currentPostSlug}`;
            const reactions = JSON.parse(localStorage.getItem(key) || '{}');
            
            document.getElementById('likeCount').textContent = reactions.like || 0;
            document.getElementById('dislikeCount').textContent = reactions.dislike || 0;
            document.getElementById('loveCount').textContent = reactions.love || 0;
            document.getElementById('fireCount').textContent = reactions.fire || 0;
        }

        function submitComment() {
            const name = document.getElementById('commenterName').value.trim();
            const text = document.getElementById('commentText').value.trim();
            
            if (!name || !text) {
                alert('Name aur comment dono required hain!');
                return;
            }
            
            const comment = {
                id: Date.now(),
                name: name,
                text: text,
                date: new Date().toLocaleString(),
                likes: 0,
                replies: []
            };
            
            const key = `comments_${currentPostSlug}`;
            comments = JSON.parse(localStorage.getItem(key) || '[]');
            comments.unshift(comment);
            localStorage.setItem(key, JSON.stringify(comments));
            
            document.getElementById('commenterName').value = '';
            document.getElementById('commentText').value = '';
            
            loadComments();
        }

        function loadComments() {
            const key = `comments_${currentPostSlug}`;
            comments = JSON.parse(localStorage.getItem(key) || '[]');
            
            document.getElementById('commentCount').textContent = comments.length;
            
            const commentsList = document.getElementById('commentsList');
            
            if (comments.length === 0) {
                commentsList.innerHTML = '<p style="color: #666; text-align: center; padding: 20px;">Abhi tak koi comment nahi hai. Pehla comment aap kariye!</p>';
                return;
            }
            
            commentsList.innerHTML = comments.map(comment => `
                <div class="comment-item">
                    <div class="comment-header">
                        <span class="comment-author">${comment.name}</span>
                        <span class="comment-date">${comment.date}</span>
                    </div>
                    <div class="comment-text">${comment.text}</div>
                    <div class="comment-actions">
                        <button class="like-btn" onclick="likeComment(${comment.id})">
                            <i class="fas fa-thumbs-up"></i> ${comment.likes || 0}
                        </button>
                        <button class="reply-btn" onclick="toggleReply(${comment.id})">
                            <i class="fas fa-reply"></i> Reply
                        </button>
                    </div>
                    <div class="reply-form" id="replyForm${comment.id}">
                        <input type="text" placeholder="Your name..." id="replyName${comment.id}" style="width: 100%; padding: 8px; margin-bottom: 10px; background: #000; border: 1px solid #444; color: #fff; border-radius: 5px;">
                        <textarea placeholder="Your reply..." id="replyText${comment.id}" style="width: 100%; padding: 8px; margin-bottom: 10px; background: #000; border: 1px solid #444; color: #fff; border-radius: 5px; min-height: 60px;"></textarea>
                        <button onclick="submitReply(${comment.id})" style="background: #00ff41; color: #000; border: none; padding: 8px 15px; border-radius: 5px; cursor: pointer;">Post Reply</button>
                    </div>
                    ${comment.replies ? comment.replies.map(reply => `
                        <div class="reply-item">
                            <div class="comment-header">
                                <span class="comment-author">${reply.name}</span>
                                <span class="comment-date">${reply.date}</span>
                            </div>
                            <div class="comment-text">${reply.text}</div>
                        </div>
                    `).join('') : ''}
                </div>
            `).join('');
        }

        function likeComment(commentId) {
            const key = `comments_${currentPostSlug}`;
            comments = JSON.parse(localStorage.getItem(key) || '[]');
            
            const comment = comments.find(c => c.id === commentId);
            if (comment) {
                comment.likes = (comment.likes || 0) + 1;
                localStorage.setItem(key, JSON.stringify(comments));
                loadComments();
            }
        }

        function toggleReply(commentId) {
            const replyForm = document.getElementById(`replyForm${commentId}`);
            replyForm.style.display = replyForm.style.display === 'none' ? 'block' : 'none';
        }

        function submitReply(commentId) {
            const name = document.getElementById(`replyName${commentId}`).value.trim();
            const text = document.getElementById(`replyText${commentId}`).value.trim();
            
            if (!name || !text) {
                alert('Name aur reply dono required hain!');
                return;
            }
            
            const key = `comments_${currentPostSlug}`;
            comments = JSON.parse(localStorage.getItem(key) || '[]');
            
            const comment = comments.find(c => c.id === commentId);
            if (comment) {
                if (!comment.replies) comment.replies = [];
                comment.replies.push({
                    name: name,
                    text: text,
                    date: new Date().toLocaleString()
                });
                
                localStorage.setItem(key, JSON.stringify(comments));
                loadComments();
            }
        }

        // Load post on page load
        document.addEventListener('DOMContentLoaded', loadPost);
    </script>
</body>
</html>